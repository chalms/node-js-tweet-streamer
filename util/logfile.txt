TypeError: Cannot read property 'q' of undefined
    at buildUrl (/Users/jaclynfoss/Desktop/Twitter Node/topsy.js:13:24)
    at /Users/jaclynfoss/Desktop/Twitter Node/topsy.js:72:24
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/phantom/phantom.js:57:16
    at Proto.apply (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/phantom/node_modules/dnode/node_modules/dnode-protocol/index.js:123:13)
    at Proto.handle (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/phantom/node_modules/dnode/node_modules/dnode-protocol/index.js:99:19)
    at D.dnode.handle (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/phantom/node_modules/dnode/lib/dnode.js:140:21)
    at D.dnode.write (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/phantom/node_modules/dnode/lib/dnode.js:128:22)
    at SockJSConnection.ondata (stream.js:51:26)
    at SockJSConnection.EventEmitter.emit (events.js:95:17)
    at Session.didMessage (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/phantom/node_modules/shoe/node_modules/sockjs/lib/transport.js:220:25)Error: collection name must be a String
    at Error (<anonymous>)
    at Object.checkCollectionName (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/collection/shared.js:65:11)
    at new Collection (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/collection.js:44:10)
    at Db.collection (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:492:24)
    at /Users/jaclynfoss/Desktop/Twitter Node/util/mongo_client.js:23:21
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/mongo_client.js:447:15
    at process._tickCallback (node.js:419:13)TypeError: undefined is not a function
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:983:28
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:431:30
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/cursor.js:160:22
    at commandHandler (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/cursor.js:682:48)
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:1847:9
    at Base._callHandler (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/base.js:445:41)
    at Base._flushAllCallHandlers (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/base.js:416:10)
    at ReplSet.close (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/repl_set/repl_set.js:268:8)
    at Db.close (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:357:21)
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/mongo_client.js:449:25Error: collection name must be a String
    at Error (<anonymous>)
    at Object.checkCollectionName (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/collection/shared.js:65:11)
    at new Collection (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/collection.js:44:10)
    at Db.collection (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:492:24)
    at /Users/jaclynfoss/Desktop/Twitter Node/util/mongo_client.js:23:21
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/mongo_client.js:447:15
    at process._tickCallback (node.js:419:13)TypeError: undefined is not a function
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:983:28
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:431:30
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/cursor.js:160:22
    at commandHandler (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/cursor.js:682:48)
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:1847:9
    at Base._callHandler (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/base.js:445:41)
    at Base._flushAllCallHandlers (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/base.js:416:10)
    at ReplSet.close (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/repl_set/repl_set.js:268:8)
    at Db.close (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:357:21)
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/mongo_client.js:449:25TypeError: undefined is not a function
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/collection/commands.js:52:5
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:1131:7
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:1847:9
    at Server.Base._callHandler (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/base.js:445:41)
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/server.js:478:18
    at MongoReply.parseBody (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/responses/mongo_reply.js:68:5)
    at null.<anonymous> (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/server.js:436:20)
    at EventEmitter.emit (events.js:95:17)
    at null.<anonymous> (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/connection_pool.js:201:13)
    at EventEmitter.emit (events.js:98:17)TypeError: undefined is not a function
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/collection/commands.js:52:5
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:1131:7
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:1847:9
    at Server.Base._callHandler (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/base.js:445:41)
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/server.js:478:18
    at MongoReply.parseBody (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/responses/mongo_reply.js:68:5)
    at null.<anonymous> (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/server.js:436:20)
    at EventEmitter.emit (events.js:95:17)
    at null.<anonymous> (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/connection_pool.js:201:13)
    at EventEmitter.emit (events.js:98:17)TypeError: undefined is not a function
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/collection/commands.js:52:5
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:1131:7
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:1847:9
    at Server.Base._callHandler (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/base.js:445:41)
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/server.js:478:18
    at MongoReply.parseBody (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/responses/mongo_reply.js:68:5)
    at null.<anonymous> (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/server.js:436:20)
    at EventEmitter.emit (events.js:95:17)
    at null.<anonymous> (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/connection_pool.js:201:13)
    at EventEmitter.emit (events.js:98:17)TypeError: Cannot read property 'length' of null
    at passBackStack (/Users/jaclynfoss/Desktop/Twitter Node/topsy.js:40:15)
    at runIt (/Users/jaclynfoss/Desktop/Twitter Node/topsy.js:59:5)
    at /Users/jaclynfoss/Desktop/Twitter Node/topsy.js:90:27
    at Proto.apply (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/phantom/node_modules/dnode/node_modules/dnode-protocol/index.js:123:13)
    at Proto.handle (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/phantom/node_modules/dnode/node_modules/dnode-protocol/index.js:99:19)
    at D.dnode.handle (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/phantom/node_modules/dnode/lib/dnode.js:140:21)
    at D.dnode.write (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/phantom/node_modules/dnode/lib/dnode.js:128:22)
    at SockJSConnection.ondata (stream.js:51:26)
    at SockJSConnection.EventEmitter.emit (events.js:95:17)
    at Session.didMessage (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/phantom/node_modules/shoe/node_modules/sockjs/lib/transport.js:220:25)TypeError: undefined is not a function
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/collection/commands.js:52:5
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:1131:7
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:1847:9
    at Server.Base._callHandler (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/base.js:445:41)
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/server.js:478:18
    at MongoReply.parseBody (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/responses/mongo_reply.js:68:5)
    at null.<anonymous> (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/server.js:436:20)
    at EventEmitter.emit (events.js:95:17)
    at null.<anonymous> (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/connection_pool.js:201:13)
    at EventEmitter.emit (events.js:98:17)TypeError: undefined is not a function
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/collection/commands.js:52:5
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:1131:7
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:1847:9
    at Server.Base._callHandler (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/base.js:445:41)
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/server.js:478:18
    at MongoReply.parseBody (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/responses/mongo_reply.js:68:5)
    at null.<anonymous> (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/server.js:436:20)
    at EventEmitter.emit (events.js:95:17)
    at null.<anonymous> (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/connection_pool.js:201:13)
    at EventEmitter.emit (events.js:98:17)TypeError: undefined is not a function
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/collection/commands.js:54:5
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:1160:7
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:1893:9
    at Server.Base._callHandler (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/base.js:448:41)
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/server.js:478:18
    at MongoReply.parseBody (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/responses/mongo_reply.js:68:5)
    at null.<anonymous> (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/server.js:436:20)
    at EventEmitter.emit (events.js:95:17)
    at null.<anonymous> (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/connection_pool.js:201:13)
    at EventEmitter.emit (events.js:98:17)TypeError: undefined is not a function
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/collection/commands.js:54:5
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:1160:7
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:1893:9
    at Server.Base._callHandler (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/base.js:448:41)
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/server.js:478:18
    at MongoReply.parseBody (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/responses/mongo_reply.js:68:5)
    at null.<anonymous> (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/server.js:436:20)
    at EventEmitter.emit (events.js:95:17)
    at null.<anonymous> (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/connection_pool.js:201:13)
    at EventEmitter.emit (events.js:98:17)TypeError: undefined is not a function
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/collection/commands.js:54:5
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:1160:7
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/db.js:1893:9
    at Server.Base._callHandler (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/base.js:448:41)
    at /Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/server.js:478:18
    at MongoReply.parseBody (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/responses/mongo_reply.js:68:5)
    at null.<anonymous> (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/server.js:436:20)
    at EventEmitter.emit (events.js:95:17)
    at null.<anonymous> (/Users/jaclynfoss/Desktop/Twitter Node/node_modules/mongodb/lib/mongodb/connection/connection_pool.js:201:13)
    at EventEmitter.emit (events.js:98:17)