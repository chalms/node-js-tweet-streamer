<!DOCTYPE html><html><head><meta charset="utf-8"><style>/* Fonts */
@font-face{
  font-family: octicons-anchor;
  src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}

/* Body */
html { font-size: 100%; overflow-y: scroll; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }

body{
  color:#4d4d4c;
  font-family:Georgia, Palatino, 'Palatino Linotype', Times, 'Times New Roman',
              "Hiragino Sans GB", "STXihei", "微软雅黑", serif;
  font-size:12px;
  line-height:1.5em;
  background:#fefefe;
  width: 45em;
  margin: 10px auto;
  padding: 30px;
  border: 1px solid #ddd;
  outline: 1300px solid #f8f8f8;
}

/* Links */
a{ color: #06d; text-decoration:none; }
a:hover{ color: #06e; text-decoration: underline; }
a:active{ color:#faa700; }
a:focus{ outline: thin dotted; }
a:hover, a:active{ outline: 0; }

::-moz-selection { background:rgba(255,255,0,0.3); color:#000 }
::selection { background:rgba(255,255,0,0.3); color:#000 }

a::-moz-selection { background:rgba(255,255,0,0.3); color:#0645ad }
a::selection { background:rgba(255,255,0,0.3); color:#0645ad }

/* Header Anchor Links*/
.headeranchor-link {
  color:#111;
  border: 0;
  margin-left: -20px;
  padding-right: 6px;
  cursor: pointer;
  position: absolute;
  display: block;
  top: 0;
  left: 0;
  bottom: 0;
}

.headeranchor {
  font: normal normal 16px octicons-anchor;
  line-height: 1;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.headeranchor-link:hover,
.headeranchor-link:visited,
.headeranchor-link:active
{ text-decoration: none; color:#4d4d4c; }
.headeranchor-link:hover .headeranchor:before,
h1:hover .headeranchor:before,
h2:hover .headeranchor:before,
h3:hover .headeranchor:before,
h4:hover .headeranchor:before,
h5:hover .headeranchor:before,
h6:hover .headeranchor:before
{ content: '\f05c'; }

abbr { cursor: pointer; }

/* Paragraphs */
p { margin:1em 0; }

/* Images */
img {
  max-width:100%;
  border: 0;
  -ms-interpolation-mode: bicubic;
  vertical-align: middle;
}

/* Headers */
h1,h2,h3,h4,h5,h6 {
  font-weight:normal;
  color:#111;
  line-height: 1.7;
  position: relative;
}
h4,h5,h6{ font-weight: bold; }
h1 { font-size:2.5em; border-bottom: 1px solid #ddd;}
h2 { font-size:2em; border-bottom:1px solid #eee; padding-bottom: 5px; }
h3 { font-size:1.5em; }
h4 { font-size:1.2em; }
h5 { font-size:1em; }
h6 { font-size:0.9em; }

/* Block Quotes */
blockquote {
  color:#666666;
  margin:0;
  padding-left: 3em;
  border-left: 0.5em #EEE solid;
}
hr { display: block; height: 2px; border: 0; border-top: 1px solid #aaa;border-bottom: 1px solid #eee; margin: 1em 0; padding: 0; }

/* Raw Blocks */
pre, code, kbd, samp {
  color: #000;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  font-size: 0.88em;
  background-color: #F8F8F8;
  border: 1px solid #CCC;
}

pre {
  padding: 10px;
  overflow: auto;
}

code { padding: 0 3px 0 3px; }
pre code { border: 0; padding: 0; }

/* Admonition */
.admonition {
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  font-size: 0.88em;
  padding: 0.5em 1em 0.5em 1em;
  margin: 10px auto;
}

.admonition p {
  padding: 0;
  margin: 0.5em 0 0.5em 0;
}

.admonition-title {
  font-weight: bold;
}

.admonition.attention {
  color: #4F8A10;
  background-color: #DFF2BF;
  border: 1px solid #4F8A10;
}

.admonition.caution {
  color: #9F6000;
  background-color: #FEEFB3;
  border: 1px solid #9F6000;
}

.admonition.hint {
  color: #00529B;
  background-color: #BDE5F8;
  border: 1px solid #00529B;
}

.admonition.danger {
  color: #D8000C;
  background-color: #FFBABA;
  border: 1px solid #D8000C;
}

.admonition.note {
  color: #888888;
  background-color: #F8F8F8;
  border: 1px solid #888888;
}

/* Inlines */
b, strong { font-weight: bold; }

ins { background: #ff9; color: #000; text-decoration: none; }

mark { background: #ff0; color: #000; font-style: italic; font-weight: bold; }

sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }
sup { top: -0.5em; }
sub { bottom: -0.25em; }

dfn { font-style: italic; }

/* Lists */
ul, ol { padding-left: 30px; }
li p:last-child { margin:0 }
.task-list-item { list-style-type: none; }
.task-list-item input { float:left; margin-left: -20px; margin-top: 6px; }
dt { font-weight: bold; font-style: italic;}
dd { margin: 0 0 0 2em; }

/* Tables */
table { width: 100%; border-collapse: collapse; overflow-x: auto; overflow-y: hidden; display: block;}
table tr { background-color: #fefefe; }
table tr:nth-child(2n) { background-color: #f8f8f8; }
td, th { border: 1px solid #ddd; padding: 6px 13px; }

/* Codehilite Tables */
.codehilitetable { border: 0; border-spacing: 0; }
.linenos, .code, .codehilitetable td { border: 0; padding: 0; }
td:not(.linenos) .linenodiv { padding: 0 !important; }
.code { width: 100%; }
.linenos div pre, .linenodiv pre {
  border: 0;
  border-top: 1px solid #CCC;
  border-left: 1px solid #CCC;
  border-right: 1px solid #CCC;
  border-bottom: 1px solid #CCC;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-left-radius: 3px;
  -webkit-border-bottom-left-radius: 3px;
  -moz-border-radius-topleft: 3px;
  -moz-border-radius-bottomleft: 3px;
  border-top-left-radius: 3px;
  border-bottom-left-radius: 3px;
}

.code div pre {
  border: 0;
  border-top: 1px solid #CCC;
  border-right: 1px solid #CCC;
  border-bottom: 1px solid #CCC;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-right-radius: 3px;
  -webkit-border-bottom-right-radius: 3px;
  -moz-border-radius-topright: 3px;
  -moz-border-radius-bottomright: 3px;
  border-top-right-radius: 3px;
  border-bottom-right-radius: 3px;
}

/* Media */
@media only screen and (min-width: 480px) {
  body{ font-size:14px; }
}

@media only screen and (min-width: 768px) {
  body{ font-size:16px; }
}

@media print {
  * { background: transparent !important; color: black !important; filter:none !important; -ms-filter: none !important; }
  body{ font-size:12pt; max-width:100%; outline:none; border: 0;}
  a, a:visited { text-decoration: underline; }
  .headeranchor-link { display: none; }
  hr { height: 1px; border:0; border-bottom:1px solid black; }
  a[href]:after { content: " (" attr(href) ")"; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after { content: ""; }
  pre { white-space: pre; white-space: pre-wrap; word-wrap: break-word; }
  pre, blockquote { border: 1px solid #999; padding-right: 1em; page-break-inside: avoid; }
  tr, img { page-break-inside: avoid; }
  img { max-width: 100% !important; }
  p, h2, h3 { orphans: 3; widows: 3; }
  h2, h3 { page-break-after: avoid; }
}
</style><title>READ ME</title></head><body><h1 id="twitter-feed"><a name="user-content-twitter-feed" href="#twitter-feed" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>Twitter Feed</h1>
<p>Enter querys to the provided domain name, within JSON format for specific keys.<br />
Different keys require different parameters. The list of keys is as follows:</p>
<p>The first value can be either (or both) of &ldquo;search&rdquo; or &ldquo;stream&rdquo;. Currently <em>the stream feature is disabled</em>. I will let you know once it gets pushed live.</p>
<pre><code>&ldquo;search&rdquo; : {
  &lt;rest of params&gt;
},
&ldquo;stream&rdquo; : {
  &lt;rest of params&gt;
}</code></pre>
<h2 id="search-parameters"><a name="user-content-search-parameters" href="#search-parameters" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>Search Parameters</h2>
<p>The only mandatory parameter for &ldquo;search&rdquo; is &ldquo;q&rdquo;. The &ldquo;q&rdquo; key denotes the query you want to be executed. The server will accept all params twitter accepts for &ldquo;q&rdquo;. Read this for more information <a href="https://dev.twitter.com/docs/using-search">https://dev.twitter.com/docs/using-search</a>.</p>
<h3 id="date-ranges"><a name="user-content-date-ranges" href="#date-ranges" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>Date Ranges</h3>
<p>You can search for all tweets before a particular date using the &ldquo;since&rdquo; key. Set the value to a standardized DateTime string with timezone. The format is <em>YYYY-MM-DD</em>.</p>
<pre><code>&ldquo;since&rdquo;:&rdquo;2013-06-01&rdquo;</code></pre>
<p>You can search for all the tweets after a date with the &ldquo;until&rdquo; key. Same formatting as above.</p>
<pre><code>&ldquo;until&rdquo;:&rdquo;2014-01-01&rdquo;</code></pre>
<p>The use of &lsquo;since&rsquo; and &lsquo;until&rsquo; is independant, meaning they can, but don&rsquo;t have to, be used together.</p>
<h3 id="filters"><a name="user-content-filters" href="#filters" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>Filters</h3>
<p>You can filter the tweets for links by including the &ldquo;linkFilter&rdquo; key. Setting the value for this key to false will not turn off its functionality. You have to remove the key from the set to do that.</p>
<pre><code>&ldquo;linkFilter&rdquo;:true // is the same as
&ldquo;linkFilter&rdquo;:false // is the same as
&ldquo;linkFilter&rdquo;: []</code></pre>
<h3 id="feeds"><a name="user-content-feeds" href="#feeds" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>Feeds</h3>
<p>You can source a particular twitter feed for tweets using &ldquo;source&rdquo;. The value of &ldquo;source&rdquo; must be the id of the twitter feed you are trying to source from.</p>
<pre><code>&ldquo;source&rdquo;:&rdquo;some_twitter_feed&rdquo;</code></pre>
<h2 id="stream-parameters"><a name="user-content-stream-parameters" href="#stream-parameters" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>Stream parameters</h2>
<p>The &ldquo;stream&rdquo; module takes in 4 parameters.</p>
<ul>
<li>&ldquo;track&rdquo;</li>
<li>&ldquo;locations&rdquo;</li>
<li>&ldquo;limit&rdquo;</li>
<li>&ldquo;timeLimit&rdquo;</li>
</ul>
<p>The only required key is &ldquo;track&rdquo;, which requires at least one string. All items for &ldquo;track&rdquo; must be placed into an array. Thus, the minimum required parameters to run the streamer module are:</p>
<p>&ldquo;stream&rdquo; : {<br />
    &ldquo;track&rdquo; : [&lsquo;my keyword&rsquo;]<br />
  }</p>
<p>This will return the last 100 tweets containing the specified keyword. If their are less than 100 available live tweets, the streamer will quit after ten seconds.</p>
<h3 id="links"><a name="user-content-links" href="#links" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>Links</h3>
<p>You stream for links using the &ldquo;track&rdquo; key, but the value of the &lsquo;link&rsquo; query string needs to be in a specific format. Stream for links using the format &ldquo;name post-fix-domain-name&rdquo;. &ldquo;name.com/&rdquo;.</p>
<p>For example:</p>
<p>&ldquo;stream&rdquo; {<br />
    &lsquo;track&rsquo;:&rsquo;youtube com&rsquo;<br />
  }</p>
<p>Would return the values:</p>
<p>&lsquo;I love youtube.com&rsquo;,<br />
  &lsquo;Watch this: <a href="http://www.youtube.com/some-video">www.youtube.com/some-video</a>&lsquo;,<br />
  &lsquo;I love youtube compare&rsquo;</p>
<p>This is highly inclusive so needs to be parsed well once the stream is received. A specific link can be streamed by using its full url:</p>
<p>&ldquo;stream&rdquo; {<br />
    &lsquo;track&rsquo;:&rsquo;<a href="http://www.youtube.com">www.youtube.com</a>&lsquo;<br />
  }</p>
<p>Would return:</p>
<p>&lsquo;I am on <a href="http://www.youtube.com">www.youtube.com</a>&lsquo;</p>
<p>And NOT return:</p>
<p>&lsquo;I am on the video <a href="http://www.youtube.com/some-other-url">www.youtube.com/some-other-url</a>&lsquo;</p>
<h3 id="location"><a name="user-content-location" href="#location" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>Location</h3>
<p>You can choose to filter tweets by using the &ldquo;locations&rdquo; key. The location key has one value: a 4 column array with 4 co-ordinates.</p>
<p>The streamer &ldquo;locations&rdquo; key is an array that contains the latitude and longitude co-ordinates of a bounded box. All geo-coded tweets within this bounded box, that match the particular &ldquo;track&rdquo; parameters, will be returned.</p>
<p>For example:</p>
<p>&ldquo;stream&rdquo; {<br />
    &ldquo;track&rdquo;: [&ldquo;I just made a million dollars&rdquo;],<br />
    &ldquo;locations&rdquo;: [ &lsquo;-122.75&rsquo;, &lsquo;36.8&rsquo;, &lsquo;-121.75&rsquo;, &lsquo;37.8&rsquo; ] // Coords for San Francisco<br />
  }</p>
<p>This will return all tweets containing the string &ldquo;I just made a million dollars&rdquo; that were posted by users in San Francisco.</p>
<h3 id="limit"><a name="user-content-limit" href="#limit" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>Limit</h3>
<p>You can set a limit on the number of tweets you want the streamer to return before closing. The default is 100.</p>
<p>&ldquo;stream&rdquo; {<br />
    &ldquo;limit&rdquo;: 1000<br />
  }</p>
<p>Will stop streaming after 1000 tweets have been received.</p>
<h3 id="time-limit"><a name="user-content-time-limit" href="#time-limit" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>Time Limit</h3>
<p>You can set an expiration time as well as a tweet limit. The streamer will close when the timer expires, if the limit has not been reached. This is useful to use to prevent queries with a low yeild from running forever.</p>
<p>The timer units are in milliseconds. The default timer value is 3000 (3 seconds).</p>
<p>&ldquo;stream&rdquo; {<br />
    &ldquo;limit&rdquo;: 10000<br />
  }</p>
<p>Will stop a non-expired stream after running for 10 seconds.</p>
<h3 id="collection-name"><a name="user-content-collection-name" href="#collection-name" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>Collection Name</h3>
<p>For each query you issue to the node.js server, you must provide a collectionName. The server will then store the resulting streamer data at this location on the data, and send your client script a success message once the data storage has been executed successfully. Your client script then accesses the collection in the tweet database with this particular collectionName and pulls the tweets into R dataframes.</p>
<p>For this reason, it is important that each query you issue has a unique collection name. Storing multiple queries under the same collection will result in a bloated document that will absorb your memory once loaded.</p>
<h2 id="examples"><a name="user-content-examples" href="#examples" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>Examples</h2>
<p>Below are tested examples of both search and stream query modules.</p>
<h3 id="example-1"><a name="user-content-example-1" href="#example-1" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>Example 1</h3>
<p>This is an example of a query to search for tweets containing both &ldquo;Plug&rdquo; and &ldquo;Power&rdquo;. The &ldquo;result_type&rdquo; parameter (you can read about it on the twitter docs linked below), is set to return the most recent tweets. This is an example of executing that query from an R script (to send to the server). A list is generated in R with the necessary parameters, and the function toJSON() is called on it to convert it into a valid JSON string before sending.</p>
<pre><code>myRQuery &lt;- toJSON(list(
  collection = &ldquo;Plug Power&rdquo;,
  search = list(
    q = &ldquo;Plug Power&rdquo;,
    result_type = &ldquo;recent&rdquo;
  )
))</code></pre>
<h3 id="example-2"><a name="user-content-example-2" href="#example-2" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>Example 2</h3>
<p>Stream the last 1000 tweets that contained youtube urls and a reference to Katy Perry</p>
<p>query = {<br />
    &ldquo;stream&rdquo; : {<br />
      &ldquo;track&rdquo;: [&ldquo;youtube com&rdquo;, &ldquo;Katy Perry&rdquo;, &ldquo;katy perry&rdquo;]<br />
      &ldquo;limit&rdquo;: 1000<br />
    }<br />
  }</p>
<h3 id="example-3"><a name="user-content-example-3" href="#example-3" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>Example 3</h3>
<p>Stream for a minute for all live tweets containing a particular youtube link</p>
<p>query = {<br />
    &ldquo;stream&rdquo; : {<br />
      &ldquo;track&rdquo;: [&ldquo;youtube.com/abc1223&rdquo;],<br />
      &ldquo;limit&rdquo;: 100000,<br />
      &ldquo;timeLimit&rdquo;: 60000<br />
    }<br />
  }</p>
<h2 id="read-the-docs"><a name="user-content-read-the-docs" href="#read-the-docs" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>Read The Docs</h2>
<p>For more information on valid/non-valid query parameters please visit <a href="https://dev.twitter.com/docs/api/1.1">https://dev.twitter.com/docs/api/1.1</a>. Cheers.</p></body></html>