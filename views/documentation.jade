extends layout

block content



  h1#twitter-feed
    a.headeranchor-link(name='user-content-twitter-feed', href='#twitter-feed', aria-hidden='true')
      span.headeranchor
    | Twitter Feed
  p
    | Enter querys to the provided domain name, within JSON format for specific keys. Different keys require different parameters. The list of keys is as follows:
  p
    | The first value can be either (or both) of "search” or "stream”. Currently the stream feature is disabled. I will let you know once it gets pushed live.
  pre

  h2#search-parameters
    a.headeranchor-link(name='user-content-search-parameters', href='#search-parameters', aria-hidden='true')
      span.headeranchor
    | Search Parameters
  p
    | The only mandatory parameter for "search” is "q”. The "q” key denotes the query you want to be executed. The server will accept all params twitter accepts for "q”. Read this for more information
    a(href='https://dev.twitter.com/docs/using-search') https://dev.twitter.com/docs/using-search
    | .
  h3#date-ranges
    a.headeranchor-link(name='user-content-date-ranges', href='#date-ranges', aria-hidden='true')
      span.headeranchor
    | Date Ranges
  p
    | You can search for all tweets before a particular date using the "since” key. Set the value to a standardized DateTime string with timezone. The format is YYYY-MM-DD.
  pre

  p
    | You can search for all the tweets after a date with the "until” key. Same formatting as above.
  pre

  p
    | The use of 'since' and 'until' is independant, meaning they can, but don't have to, be used together.
  h3#filters
    a.headeranchor-link(name='user-content-filters', href='#filters', aria-hidden='true')
      span.headeranchor
    | Filters
  p
    | You can filter the tweets for links by including the "linkFilter” key. Setting the value for this key to false will not turn off its functionality. You have to remove the key from the set to do that.
  pre

  h3#feeds
    a.headeranchor-link(name='user-content-feeds', href='#feeds', aria-hidden='true')
      span.headeranchor
    | Feeds
  p
    | You can source a particular twitter feed for tweets using "source”. The value of "source” must be the id of the twitter feed you are trying to source from.
  pre

  h2#stream-parameters
    a.headeranchor-link(name='user-content-stream-parameters', href='#stream-parameters', aria-hidden='true')
      span.headeranchor
    | Stream parameters
  p The "stream” module takes in 4 parameters.
  ul
    li "track”
    li "locations”
    li "limit”
    li "timeLimit”
  p
    | The only required key is "track”, which requires at least one string. All items for "track” must be placed into an array. Thus, the minimum required parameters to run the streamer module are:
  p
    | "stream” : {
    |   "track” : ['my keyword']
    | }
    | This will return the last 100 tweets containing the specified keyword. If their are less than 100 available live tweets, the streamer will quit after ten seconds.
  h3#links
    a.headeranchor-link(name='user-content-links', href='#links', aria-hidden='true')
      span.headeranchor
    | Links
  p
    | You stream for links using the "track” key, but the value of the 'link' query string needs to be in a specific format. Stream for links using the format "name post-fix-domain-name”. "name.com/”.
  p For example:
  p
    | "stream” {
    br
    | 'track':'youtube com'
    br
    | }
  p Would return the values:
  p
    | 'I love youtube.com',
    br
    | 'Watch this:
    a(href='http://www.youtube.com/some-video') www.youtube.com/some-video
    | ',
    br
    | 'I love youtube compare'
  p
    | This is highly inclusive so needs to be parsed well once the stream is received. A specific link can be streamed by using its full url:
  p
    | "stream” {
    br
    | 'track':'
    a(href='http://www.youtube.com') www.youtube.com
    | '
    br
    | }
  p Would return:
  p
    | 'I am on
    a(href='http://www.youtube.com') www.youtube.com
    | '
  p And NOT return:
  p
    | 'I am on the video
    a(href='http://www.youtube.com/some-other-url') www.youtube.com/some-other-url
    | '
  h3#location
    a.headeranchor-link(name='user-content-location', href='#location', aria-hidden='true')
      span.headeranchor
    | Location
  p
    | You can choose to filter tweets by using the "locations” key. The location key has one value: a 4 column array with 4 co-ordinates.
  p
    | The streamer "locations” key is an array that contains the latitude and longitude co-ordinates of a bounded box. All geo-coded tweets within this bounded box, that match the particular "track” parameters, will be returned.
  p For example:
  p
    | "stream” {
    | "track”: ["I just made a million dollars”],
    br
    | "locations”: [ '-122.75', '36.8', '-121.75', '37.8' ] // Coords for San Francisco
    br
    | }
  p
    | This will return all tweets containing the string "I just made a million dollars” that were posted by users in San Francisco.
  h3#limit
    a.headeranchor-link(name='user-content-limit', href='#limit', aria-hidden='true')
      span.headeranchor
    | Limit
  p
    | You can set a limit on the number of tweets you want the streamer to return before closing. The default is 100.
  p
    | "stream” {
    br
    | "limit”: 1000
    br
    | }
  p Will stop streaming after 1000 tweets have been received.
  h3#time-limit
    a.headeranchor-link(name='user-content-time-limit', href='#time-limit', aria-hidden='true')
      span.headeranchor
    | Time Limit
  p
    | You can set an expiration time as well as a tweet limit. The streamer will close when the timer expires, if the limit has not been reached. This is useful to use to prevent queries with a low yeild from running forever.
  p
    | The timer units are in milliseconds. The default timer value is 3000 (3 seconds).
  p
    | "stream” {
    br
    | "limit”: 10000
    br
    | }
  p Will stop a non-expired stream after running for 10 seconds.
  h3#collection-name
    a.headeranchor-link(name='user-content-collection-name', href='#collection-name', aria-hidden='true')
      span.headeranchor
    | Collection Name
  p
    | For each query you issue to the node.js server, you must provide a collectionName. The server will then store the resulting streamer data at this location on the data, and send your client script a success message once the data storage has been executed successfully. Your client script then accesses the collection in the tweet database with this particular collectionName and pulls the tweets into R dataframes.
  p
    | For this reason, it is important that each query you issue has a unique collection name. Storing multiple queries under the same collection will result in a bloated document that will absorb your memory once loaded.
  h2#examples
    a.headeranchor-link(name='user-content-examples', href='#examples', aria-hidden='true')
      span.headeranchor
    | Examples
  p Below are tested examples of both search and stream query modules.
  h3#example-1
    a.headeranchor-link(name='user-content-example-1', href='#example-1', aria-hidden='true')
      span.headeranchor
    | Example 1
  p
    | This is an example of a query to search for tweets containing both "Plug” and "Power”. The "result_type” parameter (you can read about it on the twitter docs linked below), is set to return the most recent tweets. This is an example of executing that query from an R script (to send to the server). A list is generated in R with the necessary parameters, and the function toJSON() is called on it to convert it into a valid JSON string before sending.
  pre

  h3#example-2
    a.headeranchor-link(name='user-content-example-2', href='#example-2', aria-hidden='true')
      span.headeranchor
    | Example 2
  p
    | Stream the last 1000 tweets that contained youtube urls and a reference to Katy Perry
  p
    | query = {
    br
    | "stream” : {
    br
    | "track”: ["youtube com”, "Katy Perry”, "katy perry”]
    br
    | "limit”: 1000
    br
    | }
    br
    | }
  h3#example-3
    a.headeranchor-link(name='user-content-example-3', href='#example-3', aria-hidden='true')
      span.headeranchor
    | Example 3
  p Stream for a minute for all live tweets containing a particular youtube link
  p
    | query = {
    br
    | "stream” : {
    br
    | "track”: ["youtube.com/abc1223”],
    br
    | "limit”: 100000,
    br
    | "timeLimit”: 60000
    br
    | }
    br
    | }
  h2#read-the-docs
    a.headeranchor-link(name='user-content-read-the-docs', href='#read-the-docs', aria-hidden='true')
      span.headeranchor
    | Read The Docs
  p
    | For more information on valid/non-valid query parameters please visit
    a(href='https://dev.twitter.com/docs/api/1.1') https://dev.twitter.com/docs/api/1.1
    | . Cheers.
